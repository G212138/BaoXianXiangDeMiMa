{"version":3,"sources":["assets\\game\\scripts\\UI\\Item\\GameUI.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import { NetWork } from \"../../../../frame/scripts/Http/NetWork\";\r\nimport { ListenerManager } from \"../../../../frame/scripts/Manager/ListenerManager\";\r\nimport { SoundManager } from \"../../../../frame/scripts/Manager/SoundManager\";\r\nimport { SyncDataManager } from \"../../../../frame/scripts/Manager/SyncDataManager\";\r\nimport { T2M } from \"../../../../frame/scripts/SDK/T2M\";\r\nimport { Tools } from \"../../../../frame/scripts/Utils/Tools\";\r\nimport { UIHelp } from \"../../../../frame/scripts/Utils/UIHelp\";\r\nimport { EventType } from \"../../Data/EventType\";\r\nimport { EditorManager } from \"../../Manager/EditorManager\";\r\nimport { SoundConfig } from \"./SoundConfig\";\r\n\r\nconst { ccclass, property } = cc._decorator;\r\n\r\n@ccclass\r\nexport default class GameUI extends cc.Component {\r\n    @property(cc.Node)\r\n    private bg_1: cc.Node = null;\r\n    @property(cc.Node)\r\n    private bg_2: cc.Node = null;\r\n    @property(cc.Node)\r\n    private num_panel: cc.Node = null;\r\n    @property(cc.Prefab)\r\n    private num_prefab: cc.Prefab = null;\r\n    @property(cc.Node)\r\n    private btn_rotate: cc.Node = null;\r\n    @property(sp.Skeleton)\r\n    private yanwu: sp.Skeleton = null;\r\n    @property(cc.Node)\r\n    private men: cc.Node = null;\r\n    @property(cc.Node)\r\n    private kou: cc.Node = null;\r\n\r\n    private bg_1_scale: number = 4.33;\r\n    private bg_1_end_pos: cc.Vec3 = cc.v3(-125.417, -16);\r\n    onLoad() {\r\n        ListenerManager.on(EventType.ENTER_GAME, this.handleEnterGame, this);\r\n        ListenerManager.on(EventType.GAME_RECONNECT, this.resetUI, this);\r\n        ListenerManager.on(EventType.GAME_REPLAY, this.handleEnterGame, this);\r\n    }\r\n\r\n    onDestroy() {\r\n        ListenerManager.off(EventType.ENTER_GAME, this.handleEnterGame, this);\r\n        ListenerManager.off(EventType.GAME_RECONNECT, this.resetUI, this);\r\n        ListenerManager.off(EventType.GAME_REPLAY, this.handleEnterGame, this);\r\n    }\r\n\r\n    private handleEnterGame() {\r\n        SoundManager.stopAllEffect();\r\n        this.node.stopAllActions();\r\n        cc.Tween.stopAllByTarget(this.btn_rotate.getChildByName(\"img_suo\"));\r\n        cc.Tween.stopAllByTarget(this.men);        \r\n        this.btn_rotate.getChildByName(\"img_suo\").angle = 0;\r\n        this.yanwu.node.active = false;\r\n        this.bg_1.scale = 1;\r\n        this.bg_1.active = true;\r\n        this.bg_2.active = false;\r\n        this.men.x = 0;\r\n        this.kou.active = true;\r\n        this.scheduleOnce(() => {\r\n            this.startAni();\r\n        }, 0.5);\r\n        this.handleShowNum();\r\n    }\r\n\r\n    private resetUI() {\r\n        SoundManager.stopAllEffect();\r\n        this.node.stopAllActions();\r\n        cc.Tween.stopAllByTarget(this.btn_rotate.getChildByName(\"img_suo\"));\r\n        cc.Tween.stopAllByTarget(this.men);        \r\n        this.btn_rotate.getChildByName(\"img_suo\").angle = 0;\r\n        this.yanwu.node.active = false;\r\n        this.bg_2.active = false;\r\n        this.bg_1.scale = 1;\r\n        this.bg_1.active = true;\r\n        this.men.x = 0;\r\n        this.kou.active = true;\r\n        this.scheduleOnce(() => {\r\n            this.startAni();\r\n        }, 0.5);\r\n        this.handleShowNum();\r\n    }\r\n\r\n    private startAni() {\r\n        cc.tween(this.bg_1).to(1.5, { scale: this.bg_1_scale, position: this.bg_1_end_pos }).call(() => {\r\n            this.bg_1.active = false;\r\n            this.bg_2.active = true;\r\n        }).start();\r\n    }\r\n\r\n    private onClickNum(data) {\r\n        if (SyncDataManager.getSyncData().customSyncData.num.length >= 24) {\r\n            UIHelp.showTip('最多只能输入24位数哦！');\r\n            return;\r\n        }\r\n        SoundManager.playEffect(SoundConfig.soudlist[\"点击音效\"], false, false, false);\r\n        SyncDataManager.getSyncData().customSyncData.num = SyncDataManager.getSyncData().customSyncData.num + data.target.name;\r\n        console.log('onClickNum', SyncDataManager.getSyncData().customSyncData.num);\r\n        this.handleShowNum();\r\n    }\r\n\r\n    private handleShowNum() {\r\n        this.num_panel.removeAllChildren();\r\n        this.num_panel.destroyAllChildren();\r\n        for (let i = 0; i < SyncDataManager.getSyncData().customSyncData.num.length; i++) {\r\n            let num = SyncDataManager.getSyncData().customSyncData.num[i];\r\n            let node = cc.instantiate(this.num_prefab);\r\n            node.getChildByName('lbl').getComponent(cc.Label).string = num;\r\n            this.num_panel.addChild(node);\r\n        }\r\n    }\r\n\r\n    private onClickDel() {\r\n        SoundManager.playEffect(SoundConfig.soudlist[\"点击音效\"], false, false, false);\r\n        //删除最后一位\r\n        let num = SyncDataManager.getSyncData().customSyncData.num;\r\n        if (num.length > 0) {\r\n            SyncDataManager.getSyncData().customSyncData.num = num.substring(0, num.length - 1);\r\n        }\r\n        this.handleShowNum();\r\n        console.log('onClickDel', SyncDataManager.getSyncData().customSyncData.num);\r\n    }\r\n\r\n    private onClickReset() {\r\n        SoundManager.playEffect(SoundConfig.soudlist[\"点击音效\"], false, false, false);\r\n        SyncDataManager.getSyncData().customSyncData.num = '';\r\n        this.handleShowNum();\r\n        console.log('onClickDel', SyncDataManager.getSyncData().customSyncData.num);\r\n    }\r\n\r\n    private onClickRotateBtn() {\r\n        UIHelp.showMask();\r\n        SoundManager.playEffect(SoundConfig.soudlist[\"点击音效\"], false, false, false);        \r\n        this.checkAnswer()\r\n    }\r\n\r\n    //判断对错\r\n    private checkAnswer() {\r\n        if(SyncDataManager.getSyncData().customSyncData.num == EditorManager.editorData.mima){\r\n            this.handleRight();\r\n        } else {\r\n            this.handleWrong();\r\n        }\r\n    }\r\n\r\n    private handleRight() {\r\n        ListenerManager.dispatch(EventType.SUBMIT, true);\r\n        SoundManager.playEffect(SoundConfig.soudlist[\"保险箱开锁\"], false, false, false);        \r\n        cc.tween(this.btn_rotate.getChildByName(\"img_suo\")).to(0.5, { angle: -90 }).call(() => {\r\n            this.yanwu.node.active = true;\r\n            SoundManager.playEffect(SoundConfig.soudlist[\"烟雾音效\"], false, false, false);\r\n            Tools.playSpine(this.yanwu, 'yanwu', true);\r\n            this.scheduleOnce(() => {\r\n                SoundManager.stopSoundByName(SoundConfig.soudlist[\"烟雾音效\"]);\r\n                this.yanwu.node.active = false;\r\n                this.kou.active = false;\r\n                SoundManager.playEffect(SoundConfig.soudlist[\"保险箱开柜音\"], false, false, false);\r\n                cc.tween(this.men).to(3, { x: -1800 }).call(() => {\r\n                    ListenerManager.dispatch(EventType.GAME_OVER);\r\n                }).start();\r\n            }, 2);\r\n        }).start();\r\n    }\r\n\r\n    private handleWrong() {\r\n        ListenerManager.dispatch(EventType.SUBMIT, false);\r\n        SoundManager.playEffect(SoundConfig.soudlist[\"保险箱开锁\"], false, false, false);        \r\n        cc.tween(this.btn_rotate.getChildByName(\"img_suo\")).to(0.3, { angle: -90 }).call(() => {\r\n            SoundManager.stopSoundByName(SoundConfig.soudlist[\"保险箱开锁\"]);\r\n            SoundManager.playEffect(SoundConfig.soudlist[\"错误音效\"], false, false, false);        \r\n            cc.tween(this.btn_rotate.getChildByName(\"img_suo\")).to(0.3, { angle: 0 }).call(() => {\r\n                \r\n            }).start();\r\n        }).start();\r\n        for (let i = 0 ; i < this.num_panel.childrenCount; i++) {\r\n            if (i > EditorManager.editorData.mima.length) {\r\n                let wrong_hl = this.num_panel.children[i].getChildByName(\"wrong_hl\");\r\n                wrong_hl.active = true;\r\n                cc.tween(wrong_hl).to(0.1, { opacity: 255 }).delay(0.15).to(0.1, { opacity: 0 })\r\n                .to(0.1, { opacity: 255 }).delay(0.15).to(0.1, { opacity: 0 })\r\n                .to(0.1, { opacity: 255 }).delay(0.15).to(0.1, { opacity: 0 })\r\n                .union().repeat(2).start();\r\n            }else if (this.num_panel.children[i].getChildByName(\"lbl\").getComponent(cc.Label).string != EditorManager.editorData.mima[i]) {\r\n                let wrong_hl = this.num_panel.children[i].getChildByName(\"wrong_hl\");\r\n                wrong_hl.active = true;\r\n                cc.tween(wrong_hl).to(0.1, { opacity: 255 }).delay(0.15).to(0.1, { opacity: 0 })\r\n                .to(0.1, { opacity: 255 }).delay(0.15).to(0.1, { opacity: 0 })\r\n                .to(0.1, { opacity: 255 }).delay(0.15).to(0.1, { opacity: 0 })\r\n                .union().repeat(2).start();\r\n            }\r\n        }\r\n        this.scheduleOnce(() => {\r\n            UIHelp.closeMask();\r\n        }, 2);\r\n    }\r\n\r\n}\r\n"]}